<StructureMap xmlns="http://hl7.org/fhir">
   <id value="CdaToFhirTypes"></id>
   <text>
      <status value="generated"></status>
      <div xmlns="http://www.w3.org/1999/xhtml">
         <pre>map "http://fhir.ch/ig/cda-fhir-maps/StructureMap/CdaToFhirTypes" = "CdaToFhirTypes"

// Adapted from https://github.com/HL7/ccda-to-fhir/tree/master/mappings
// CDA:  http://build.fhir.org/ig/ahdis/cda-core-2.0/branches/master/index.html
// FHIR: http://hl7.org/fhir/r4/

conceptmap "addressUse" {
  prefix s = "http://terminology.hl7.org/ValueSet/v3-AddressUse"
  prefix t = "http://hl7.org/fhir/valueset-address-use.html"

  s:H == t:home
  s:HP == t:home
  s:HV == t:home
  s:WP == t:work
  s:DIR == t:work
  s:PUB == t:work
  s:TMP == t:temp
  s:OLD == t:old
  s:BAD == t:old
}

uses "http://hl7.org/fhir/cda/StructureDefinition/ED" alias ED as source
uses "http://hl7.org/fhir/cda/StructureDefinition/II" as source
uses "http://hl7.org/fhir/StructureDefinition/Identifier" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/TS" as source
uses "http://hl7.org/fhir/StructureDefinition/instant" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/CS" as source
uses "http://hl7.org/fhir/StructureDefinition/code" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/CE" as source
uses "http://hl7.org/fhir/StructureDefinition/CodeableConcept" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/ST" as source
uses "http://hl7.org/fhir/StructureDefinition/string" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/EN" as source
uses "http://hl7.org/fhir/StructureDefinition/HumanName" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/AD" as source
uses "http://hl7.org/fhir/StructureDefinition/Address" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/TEL" as source
uses "http://hl7.org/fhir/StructureDefinition/ContactPoint" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/BL" as source
uses "http://hl7.org/fhir/StructureDefinition/boolean" as target
uses "http://hl7.org/fhir/cda/StructureDefinition/IVL_TS" as source
uses "http://hl7.org/fhir/StructureDefinition/Period" as target

group Any(source src, target tgt) {
  src.nullFlavor as nullFlavor -&gt; tgt.extension as ext then {
    nullFlavor -&gt; ext.url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor' "url";
    nullFlavor -&gt; ext.value = create('code') as valueCode then {
      nullFlavor.value as v -&gt; valueCode.value = v;
    } "valueCode";
  } "extension";
}

group II(source src : II, target tgt : Identifier) extends Any &lt;&lt;types&gt;&gt; {
  src.root as r where src.extension.exists() -&gt; tgt.system = translate(r, 'http://hl7.org/fhir/ConceptMap/special-oid2uri', 'uri') "root1";
  src.root as r where src.extension.empty() and src.root.matches('[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}') -&gt;  tgt.system = 'urn:ietf:rfc:3986',  tgt.value = ('urn:uuid:' + r.lower()) "rootuuid";
  src.root as r where src.extension.empty() and src.root.contains('.') -&gt;  tgt.system = 'urn:ietf:rfc:3986',  tgt.value = append('urn:oid:', r) "rootoid";
  src.extension as e -&gt; tgt.value = e;
  src.assigningAuthorityName as s -&gt;  tgt.assigner as a,  a.display = s;
  // there's no equivalent for displayable in FHIR - and it probably will never matter, but if it does, it might map to Identifier.use.
  src.displayable as displayable -&gt; tgt.extension as ext then {
    displayable -&gt; ext.url = 'http://hl7.org/fhir/cdaStructureDefinition/extension-displayable' "url";
    displayable.value as v -&gt; ext.value = cast(v, 'string');
  } "extension";
}

group INT(source src : INT, target tgt : integer) extends Any &lt;&lt;types&gt;&gt; {
  src.value as v -&gt; tgt.value = v "integer";
}

group TemplateID(source template : II, target tgt) {
  template -&gt; tgt.extension as ext then {
    template -&gt; ext.url = 'http://hl7.org/fhir/cda/StructureDefinition/templateID' "url";
    template -&gt; ext.value = create('Identifier') as value then II(template, value) "value";
  } "templateId";
}

group Negation(source negation : BL, target tgt) {
  negation -&gt; tgt.modifierExtension as ext then {
    negation -&gt; ext.url = 'http://hl7.org/fhir/cda/StructureDefinition/negationIndicator' "url";
    negation as neg -&gt;  ext.value = create('boolean'),  ext.value = neg "value";
  } "negation";
}

group TSInstant(source src : TS, target tgt : instant) extends Any &lt;&lt;types&gt;&gt; {
  src.value as v -&gt; tgt.value = cast(v, 'string');
}

group TSDateTime(source src : TS, target tgt : dateTime) extends TSInstant &lt;&lt;types&gt;&gt; {
}

group TSDate(source src : TS, target tgt : date) extends TSInstant &lt;&lt;types&gt;&gt; {
}

group IVLTSPeriod(source src : IVL_TS, target tgt : Period) extends Any &lt;&lt;types&gt;&gt; {
  src.low -&gt; tgt.start;
  src.high -&gt; tgt.end;
}

group IVLTSDateTime(source src : IVL_TS, target tgt : dateTime) extends Any &lt;&lt;types&gt;&gt; {
  src.low as s then TSDateTime(s, tgt);
}

group STstring(source src : ST, target tgt : string) extends Any &lt;&lt;types&gt;&gt; {
  src as v -&gt; tgt.value = cast(v, 'string') "value";
}

group EDstring(source src : ED, target tgt : string) extends STstring &lt;&lt;types&gt;&gt; {
}

group ONstring(source src : ON, target tgt : string) extends STstring &lt;&lt;types&gt;&gt; {
}

group CSCode(source src : CS, target tgt : code) extends Any &lt;&lt;types&gt;&gt; {
  src.code as c -&gt; tgt.value = cast(c, 'string');
}

group CECode(source src : CE, target tgt : code) extends CSCode &lt;&lt;types&gt;&gt; {
}

group CDCode(source src : CD, target tgt : code) extends CSCode &lt;&lt;types&gt;&gt; {
}

group CECodeableConcept(source src : CE, target tgt : CodeableConcept) extends Any &lt;&lt;types&gt;&gt; {
  src.originalText -&gt; tgt.text;
  src -&gt; tgt.coding as coding then {
    src.code as code -&gt; coding.code = cast(code, 'string');
    src.codeSystem as system -&gt; coding.system = translate(system, 'http://hl7.org/fhir/ConceptMap/special-oid2uri', 'uri');
    src.displayName as display -&gt; coding.display = cast(display, 'string');
  } "code";
  src.translation as translation -&gt; tgt.coding as coding then {
    translation.code as code -&gt; coding.code = cast(code, 'string');
    translation.codeSystem as system -&gt; coding.system = translate(system, 'http://hl7.org/fhir/ConceptMap/special-oid2uri', 'uri');
    translation.displayName as display -&gt; coding.display = cast(display, 'string');
  };
}

group CSCodeableConcept(source src : CS, target tgt : CodeableConcept) extends CECodeableConcept &lt;&lt;types&gt;&gt; {
}

group CDCodeableConcept(source src : CD, target tgt : CodeableConcept) extends CECodeableConcept &lt;&lt;types&gt;&gt; {
}

group ENHumanName(source src : EN, target tgt : HumanName) extends Any &lt;&lt;types&gt;&gt; {
  src.family as v -&gt; tgt.family = (v.dataString);
  src.given as v -&gt; tgt.given = (v.dataString);
  src.prefix as v -&gt; tgt.prefix = (v.dataString);
  src.suffix as v -&gt; tgt.suffix = (v.dataString);
  // src.use as c -&gt; tgt.use = translate(c, 'http://hl7.org/fhir/ConceptMap/cm-name-use-v3', 'code');
  src.validTime -&gt; tgt.period;
}

group ADAddress(source src : AD, target tgt : Address) extends Any &lt;&lt;types&gt;&gt; {
  src.country as v -&gt; tgt.country = (v.dataString);
  src.state as v -&gt; tgt.state = (v.dataString);
  src.county as v -&gt; tgt.district = (v.dataString);
  src.city as v -&gt; tgt.city = (v.dataString);
  src.postalCode as v -&gt; tgt.postalCode = (v.dataString);
  src.streetAddressLine as v -&gt; tgt.line = (v.dataString) "streetAddress";
  src.streetName as v -&gt; tgt.line = (v.dataString);
  src.houseNumber as v -&gt; tgt.line = (v.dataString);
  src.use as c -&gt; tgt.use = translate(c, '#addressUse', 'code') "addressUse";
  src.useablePeriod -&gt; tgt.period;
}

group TELContactPoint(source src : TEL, target tgt : ContactPoint) extends Any &lt;&lt;types&gt;&gt; {
  src.value as v where (src.value.startsWith('tel:')) -&gt;  tgt.value = (v.substring(4)),  tgt.system = 'phone' "valuetel";
  src.value as v where (src.value.startsWith('fax:')) -&gt;  tgt.value = (v.substring(4)),  tgt.system = 'fax' "valuefax";
  src.value as v where (src.value.startsWith('mailto:')) -&gt;  tgt.value = (v.substring(7)),  tgt.system = 'email' "valuemail";
  src.value as v where (src.value.startsWith('http:')) -&gt;  tgt.value = (v.substring(5)),  tgt.system = 'url' "valuehttp";
  src.use where (src.use.startsWith('H')) -&gt; tgt.use = 'home' "usehome";
  src.use where ((src.use = 'WP') or (src.use = 'DIR') or (src.use = 'PUB')) -&gt; tgt.use = 'work' "usework";
  src.use where (src.use = 'BAD') -&gt; tgt.use = 'old' "usebad";
  src.use where (src.use = 'TMP') -&gt; tgt.use = 'temp' "usetmp";
  src.use where (src.use = 'MC') -&gt; tgt.use = 'mobile' "usemobile";
  src.useablePeriod -&gt; tgt.period;
}

group PQQuantity(source src : PQ, target tgt : Quantity) extends Any &lt;&lt;types&gt;&gt; {
  // src.unit as unit -&gt; tgt.code = unit;
  src.unit as unit -&gt; tgt.unit = unit;
  src.value as value -&gt; tgt.value = value;
}

group RTOPQPQRatio(source src : RTO_PQ_PQ, target tgt : Ratio) extends Any &lt;&lt;types&gt;&gt; {
  src.numerator as numerator -&gt; tgt.numerator as targetNumerator then PQQuantity(numerator, targetNumerator);
  src.denominator as denominator -&gt; tgt.denominator as targetDenominator then PQQuantity(denominator, targetDenominator);
}

</pre>
      </div>
   </text>
   <contained>
      <ConceptMap xmlns="http://hl7.org/fhir">
         <id value="addressUse"></id>
         <status value="draft"></status>
         <group>
            <source value="http://terminology.hl7.org/ValueSet/v3-AddressUse"></source>
            <target value="http://hl7.org/fhir/valueset-address-use.html"></target>
            <element>
               <code value="H"></code>
               <target>
                  <code value="home"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="home address -&gt; home"></comment>
               </target>
            </element>
            <element>
               <code value="HP"></code>
               <target>
                  <code value="home"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="primary home -&gt; home, http://hl7.org/fhir/v3/AddressUse/cs.html"></comment>
               </target>
            </element>
            <element>
               <code value="HV"></code>
               <target>
                  <code value="home"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="vacation home	 -&gt; home, http://hl7.org/fhir/v3/AddressUse/cs.html"></comment>
               </target>
            </element>
            <element>
               <code value="WP"></code>
               <target>
                  <code value="work"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="work place -&gt; work"></comment>
               </target>
            </element>
            <element>
               <code value="DIR"></code>
               <target>
                  <code value="work"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="direct -&gt; work, http://hl7.org/fhir/v3/AddressUse/cs.html"></comment>
               </target>
            </element>
            <element>
               <code value="PUB"></code>
               <target>
                  <code value="work"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="public -&gt; work, http://hl7.org/fhir/v3/AddressUse/cs.html"></comment>
               </target>
            </element>
            <element>
               <code value="TMP"></code>
               <target>
                  <code value="temp"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="temporary address -&gt; Temporary"></comment>
               </target>
            </element>
            <element>
               <code value="OLD"></code>
               <target>
                  <code value="old"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="no longer in use -&gt; Old / Incorrect"></comment>
               </target>
            </element>
            <element>
               <code value="BAD"></code>
               <target>
                  <code value="old"></code>
                  <equivalence value="equivalent"></equivalence>
                  <comment value="bad address -&gt; Old / Incorrect"></comment>
               </target>
            </element>
         </group>
      </ConceptMap>
   </contained>
   <extension url="http://fhir.ch/reference">
      <valueReference>
         <reference value="#addressUse"></reference>
      </valueReference>
   </extension>
   <url value="http://fhir.ch/ig/cda-fhir-maps/StructureMap/CdaToFhirTypes"></url>
   <name value="CdaToFhirTypes"></name>
   <description value="Adapted from https://github.com/HL7/ccda-to-fhir/tree/master/mappings
CDA:  http://build.fhir.org/ig/ahdis/cda-core-2.0/branches/master/index.html
FHIR: http://hl7.org/fhir/r4/"></description>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/ED"></url>
      <mode value="source"></mode>
      <alias value="ED"></alias>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/II"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/Identifier"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/TS"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/instant"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/CS"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/code"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/CE"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/CodeableConcept"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/ST"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/string"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/EN"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/HumanName"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/AD"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/Address"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/TEL"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/ContactPoint"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/BL"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/boolean"></url>
      <mode value="target"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/cda/StructureDefinition/IVL_TS"></url>
      <mode value="source"></mode>
   </structure>
   <structure>
      <url value="http://hl7.org/fhir/StructureDefinition/Period"></url>
      <mode value="target"></mode>
   </structure>
   <group>
      <name value="Any"></name>
      <input>
         <name value="src"></name>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="extension"></name>
         <source>
            <context value="src"></context>
            <element value="nullFlavor"></element>
            <variable value="nullFlavor"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="extension"></element>
            <variable value="ext"></variable>
         </target>
         <rule>
            <name value="url"></name>
            <source>
               <context value="nullFlavor"></context>
            </source>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="url"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor"></valueString>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="valueCode"></name>
            <source>
               <context value="nullFlavor"></context>
            </source>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <variable value="valueCode"></variable>
               <transform value="create"></transform>
               <parameter>
                  <valueString value="code"></valueString>
               </parameter>
            </target>
            <rule>
               <name value="value"></name>
               <source>
                  <context value="nullFlavor"></context>
                  <element value="value"></element>
                  <variable value="v"></variable>
               </source>
               <target>
                  <context value="valueCode"></context>
                  <contextType value="variable"></contextType>
                  <element value="value"></element>
                  <transform value="copy"></transform>
                  <parameter>
                     <valueId value="v"></valueId>
                  </parameter>
               </target>
            </rule>
         </rule>
      </rule>
   </group>
   <group>
      <name value="II"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="II"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="Identifier"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="root1"></name>
         <source>
            <context value="src"></context>
            <element value="root"></element>
            <variable value="r"></variable>
            <condition value="src.extension.exists()"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="translate"></transform>
            <parameter>
               <valueId value="r"></valueId>
            </parameter>
            <parameter>
               <valueString value="http://hl7.org/fhir/ConceptMap/special-oid2uri"></valueString>
            </parameter>
            <parameter>
               <valueString value="uri"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="rootuuid"></name>
         <source>
            <context value="src"></context>
            <element value="root"></element>
            <variable value="r"></variable>
            <condition value="src.extension.empty() and src.root.matches('[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}')"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="urn:ietf:rfc:3986"></valueString>
            </parameter>
         </target>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="'urn:uuid:' + r.lower()"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="rootoid"></name>
         <source>
            <context value="src"></context>
            <element value="root"></element>
            <variable value="r"></variable>
            <condition value="src.extension.empty() and src.root.contains('.')"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="urn:ietf:rfc:3986"></valueString>
            </parameter>
         </target>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="append"></transform>
            <parameter>
               <valueString value="urn:oid:"></valueString>
            </parameter>
            <parameter>
               <valueId value="r"></valueId>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="extension"></name>
         <source>
            <context value="src"></context>
            <element value="extension"></element>
            <variable value="e"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="e"></valueId>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="assigningAuthorityName"></name>
         <source>
            <context value="src"></context>
            <element value="assigningAuthorityName"></element>
            <variable value="s"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="assigner"></element>
            <variable value="a"></variable>
         </target>
         <target>
            <context value="a"></context>
            <contextType value="variable"></contextType>
            <element value="display"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="s"></valueId>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="extension"></name>
         <source>
            <context value="src"></context>
            <element value="displayable"></element>
            <variable value="displayable"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="extension"></element>
            <variable value="ext"></variable>
         </target>
         <rule>
            <name value="url"></name>
            <source>
               <context value="displayable"></context>
            </source>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="url"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="http://hl7.org/fhir/cdaStructureDefinition/extension-displayable"></valueString>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="value"></name>
            <source>
               <context value="displayable"></context>
               <element value="value"></element>
               <variable value="v"></variable>
            </source>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="v"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
         <documentation value="there's no equivalent for displayable in FHIR - and it probably will never matter, but if it does, it might map to Identifier.use."></documentation>
      </rule>
   </group>
   <group>
      <name value="INT"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="INT"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="integer"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="integer"></name>
         <source>
            <context value="src"></context>
            <element value="value"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="v"></valueId>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="TemplateID"></name>
      <input>
         <name value="template"></name>
         <type value="II"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="templateId"></name>
         <source>
            <context value="template"></context>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="extension"></element>
            <variable value="ext"></variable>
         </target>
         <rule>
            <name value="url"></name>
            <source>
               <context value="template"></context>
            </source>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="url"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="http://hl7.org/fhir/cda/StructureDefinition/templateID"></valueString>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="value"></name>
            <source>
               <context value="template"></context>
            </source>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <variable value="value"></variable>
               <transform value="create"></transform>
               <parameter>
                  <valueString value="Identifier"></valueString>
               </parameter>
            </target>
            <dependent>
               <name value="II"></name>
               <variable value="template"></variable>
               <variable value="value"></variable>
            </dependent>
         </rule>
      </rule>
   </group>
   <group>
      <name value="Negation"></name>
      <input>
         <name value="negation"></name>
         <type value="BL"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="negation"></name>
         <source>
            <context value="negation"></context>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="modifierExtension"></element>
            <variable value="ext"></variable>
         </target>
         <rule>
            <name value="url"></name>
            <source>
               <context value="negation"></context>
            </source>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="url"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueString value="http://hl7.org/fhir/cda/StructureDefinition/negationIndicator"></valueString>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="value"></name>
            <source>
               <context value="negation"></context>
               <variable value="neg"></variable>
            </source>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="create"></transform>
               <parameter>
                  <valueString value="boolean"></valueString>
               </parameter>
            </target>
            <target>
               <context value="ext"></context>
               <contextType value="variable"></contextType>
               <element value="value"></element>
               <transform value="copy"></transform>
               <parameter>
                  <valueId value="neg"></valueId>
               </parameter>
            </target>
         </rule>
      </rule>
   </group>
   <group>
      <name value="TSInstant"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="TS"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="instant"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="value"></name>
         <source>
            <context value="src"></context>
            <element value="value"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="cast"></transform>
            <parameter>
               <valueId value="v"></valueId>
            </parameter>
            <parameter>
               <valueString value="string"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="TSDateTime"></name>
      <extends value="TSInstant"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="TS"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="dateTime"></type>
         <mode value="target"></mode>
      </input>
   </group>
   <group>
      <name value="TSDate"></name>
      <extends value="TSInstant"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="TS"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="date"></type>
         <mode value="target"></mode>
      </input>
   </group>
   <group>
      <name value="IVLTSPeriod"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="IVL_TS"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="Period"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="low"></name>
         <source>
            <context value="src"></context>
            <element value="low"></element>
            <variable value="vvv"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="start"></element>
            <variable value="vvv"></variable>
            <transform value="create"></transform>
         </target>
      </rule>
      <rule>
         <name value="high"></name>
         <source>
            <context value="src"></context>
            <element value="high"></element>
            <variable value="vvv"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="end"></element>
            <variable value="vvv"></variable>
            <transform value="create"></transform>
         </target>
      </rule>
   </group>
   <group>
      <name value="IVLTSDateTime"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="IVL_TS"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="dateTime"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="low"></name>
         <source>
            <context value="src"></context>
            <element value="low"></element>
            <variable value="s"></variable>
         </source>
         <dependent>
            <name value="TSDateTime"></name>
            <variable value="s"></variable>
            <variable value="tgt"></variable>
         </dependent>
      </rule>
   </group>
   <group>
      <name value="STstring"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="ST"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="string"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="value"></name>
         <source>
            <context value="src"></context>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="cast"></transform>
            <parameter>
               <valueId value="v"></valueId>
            </parameter>
            <parameter>
               <valueString value="string"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="EDstring"></name>
      <extends value="STstring"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="ED"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="string"></type>
         <mode value="target"></mode>
      </input>
   </group>
   <group>
      <name value="ONstring"></name>
      <extends value="STstring"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="ON"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="string"></type>
         <mode value="target"></mode>
      </input>
   </group>
   <group>
      <name value="CSCode"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="CS"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="code"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="code"></name>
         <source>
            <context value="src"></context>
            <element value="code"></element>
            <variable value="c"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="cast"></transform>
            <parameter>
               <valueId value="c"></valueId>
            </parameter>
            <parameter>
               <valueString value="string"></valueString>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="CECode"></name>
      <extends value="CSCode"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="CE"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="code"></type>
         <mode value="target"></mode>
      </input>
   </group>
   <group>
      <name value="CDCode"></name>
      <extends value="CSCode"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="CD"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="code"></type>
         <mode value="target"></mode>
      </input>
   </group>
   <group>
      <name value="CECodeableConcept"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="CE"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="CodeableConcept"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="originalText"></name>
         <source>
            <context value="src"></context>
            <element value="originalText"></element>
            <variable value="vvv"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="text"></element>
            <variable value="vvv"></variable>
            <transform value="create"></transform>
         </target>
      </rule>
      <rule>
         <name value="code"></name>
         <source>
            <context value="src"></context>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="coding"></element>
            <variable value="coding"></variable>
         </target>
         <rule>
            <name value="code"></name>
            <source>
               <context value="src"></context>
               <element value="code"></element>
               <variable value="code"></variable>
            </source>
            <target>
               <context value="coding"></context>
               <contextType value="variable"></contextType>
               <element value="code"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="code"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="codeSystem"></name>
            <source>
               <context value="src"></context>
               <element value="codeSystem"></element>
               <variable value="system"></variable>
            </source>
            <target>
               <context value="coding"></context>
               <contextType value="variable"></contextType>
               <element value="system"></element>
               <transform value="translate"></transform>
               <parameter>
                  <valueId value="system"></valueId>
               </parameter>
               <parameter>
                  <valueString value="http://hl7.org/fhir/ConceptMap/special-oid2uri"></valueString>
               </parameter>
               <parameter>
                  <valueString value="uri"></valueString>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="displayName"></name>
            <source>
               <context value="src"></context>
               <element value="displayName"></element>
               <variable value="display"></variable>
            </source>
            <target>
               <context value="coding"></context>
               <contextType value="variable"></contextType>
               <element value="display"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="display"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
      </rule>
      <rule>
         <name value="translation"></name>
         <source>
            <context value="src"></context>
            <element value="translation"></element>
            <variable value="translation"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="coding"></element>
            <variable value="coding"></variable>
         </target>
         <rule>
            <name value="code"></name>
            <source>
               <context value="translation"></context>
               <element value="code"></element>
               <variable value="code"></variable>
            </source>
            <target>
               <context value="coding"></context>
               <contextType value="variable"></contextType>
               <element value="code"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="code"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="codeSystem"></name>
            <source>
               <context value="translation"></context>
               <element value="codeSystem"></element>
               <variable value="system"></variable>
            </source>
            <target>
               <context value="coding"></context>
               <contextType value="variable"></contextType>
               <element value="system"></element>
               <transform value="translate"></transform>
               <parameter>
                  <valueId value="system"></valueId>
               </parameter>
               <parameter>
                  <valueString value="http://hl7.org/fhir/ConceptMap/special-oid2uri"></valueString>
               </parameter>
               <parameter>
                  <valueString value="uri"></valueString>
               </parameter>
            </target>
         </rule>
         <rule>
            <name value="displayName"></name>
            <source>
               <context value="translation"></context>
               <element value="displayName"></element>
               <variable value="display"></variable>
            </source>
            <target>
               <context value="coding"></context>
               <contextType value="variable"></contextType>
               <element value="display"></element>
               <transform value="cast"></transform>
               <parameter>
                  <valueId value="display"></valueId>
               </parameter>
               <parameter>
                  <valueString value="string"></valueString>
               </parameter>
            </target>
         </rule>
      </rule>
   </group>
   <group>
      <name value="CSCodeableConcept"></name>
      <extends value="CECodeableConcept"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="CS"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="CodeableConcept"></type>
         <mode value="target"></mode>
      </input>
   </group>
   <group>
      <name value="CDCodeableConcept"></name>
      <extends value="CECodeableConcept"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="CD"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="CodeableConcept"></type>
         <mode value="target"></mode>
      </input>
   </group>
   <group>
      <name value="ENHumanName"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="EN"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="HumanName"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="family"></name>
         <source>
            <context value="src"></context>
            <element value="family"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="family"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="given"></name>
         <source>
            <context value="src"></context>
            <element value="given"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="given"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="prefix"></name>
         <source>
            <context value="src"></context>
            <element value="prefix"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="prefix"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="suffix"></name>
         <source>
            <context value="src"></context>
            <element value="suffix"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="suffix"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="validTime"></name>
         <source>
            <context value="src"></context>
            <element value="validTime"></element>
            <variable value="vvv"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="period"></element>
            <variable value="vvv"></variable>
            <transform value="create"></transform>
         </target>
         <documentation value="src.use as c -&gt; tgt.use = translate(c, 'http://hl7.org/fhir/ConceptMap/cm-name-use-v3', 'code');"></documentation>
      </rule>
   </group>
   <group>
      <name value="ADAddress"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="AD"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="Address"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="country"></name>
         <source>
            <context value="src"></context>
            <element value="country"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="country"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="state"></name>
         <source>
            <context value="src"></context>
            <element value="state"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="state"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="county"></name>
         <source>
            <context value="src"></context>
            <element value="county"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="district"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="city"></name>
         <source>
            <context value="src"></context>
            <element value="city"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="city"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="postalCode"></name>
         <source>
            <context value="src"></context>
            <element value="postalCode"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="postalCode"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="streetAddress"></name>
         <source>
            <context value="src"></context>
            <element value="streetAddressLine"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="line"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="streetName"></name>
         <source>
            <context value="src"></context>
            <element value="streetName"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="line"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="houseNumber"></name>
         <source>
            <context value="src"></context>
            <element value="houseNumber"></element>
            <variable value="v"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="line"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.dataString"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="addressUse"></name>
         <source>
            <context value="src"></context>
            <element value="use"></element>
            <variable value="c"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="use"></element>
            <transform value="translate"></transform>
            <parameter>
               <valueId value="c"></valueId>
            </parameter>
            <parameter>
               <valueString value="#addressUse"></valueString>
            </parameter>
            <parameter>
               <valueString value="code"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="useablePeriod"></name>
         <source>
            <context value="src"></context>
            <element value="useablePeriod"></element>
            <variable value="vvv"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="period"></element>
            <variable value="vvv"></variable>
            <transform value="create"></transform>
         </target>
      </rule>
   </group>
   <group>
      <name value="TELContactPoint"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="TEL"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="ContactPoint"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="valuetel"></name>
         <source>
            <context value="src"></context>
            <element value="value"></element>
            <variable value="v"></variable>
            <condition value="(src.value.startsWith('tel:'))"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.substring(4)"></valueString>
            </parameter>
         </target>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="phone"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="valuefax"></name>
         <source>
            <context value="src"></context>
            <element value="value"></element>
            <variable value="v"></variable>
            <condition value="(src.value.startsWith('fax:'))"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.substring(4)"></valueString>
            </parameter>
         </target>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="fax"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="valuemail"></name>
         <source>
            <context value="src"></context>
            <element value="value"></element>
            <variable value="v"></variable>
            <condition value="(src.value.startsWith('mailto:'))"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.substring(7)"></valueString>
            </parameter>
         </target>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="email"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="valuehttp"></name>
         <source>
            <context value="src"></context>
            <element value="value"></element>
            <variable value="v"></variable>
            <condition value="(src.value.startsWith('http:'))"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="evaluate"></transform>
            <parameter>
               <valueString value="v.substring(5)"></valueString>
            </parameter>
         </target>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="system"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="url"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="usehome"></name>
         <source>
            <context value="src"></context>
            <element value="use"></element>
            <condition value="(src.use.startsWith('H'))"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="use"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="home"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="usework"></name>
         <source>
            <context value="src"></context>
            <element value="use"></element>
            <condition value="((src.use = 'WP') or (src.use = 'DIR') or (src.use = 'PUB'))"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="use"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="work"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="usebad"></name>
         <source>
            <context value="src"></context>
            <element value="use"></element>
            <condition value="(src.use = 'BAD')"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="use"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="old"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="usetmp"></name>
         <source>
            <context value="src"></context>
            <element value="use"></element>
            <condition value="(src.use = 'TMP')"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="use"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="temp"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="usemobile"></name>
         <source>
            <context value="src"></context>
            <element value="use"></element>
            <condition value="(src.use = 'MC')"></condition>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="use"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueString value="mobile"></valueString>
            </parameter>
         </target>
      </rule>
      <rule>
         <name value="useablePeriod"></name>
         <source>
            <context value="src"></context>
            <element value="useablePeriod"></element>
            <variable value="vvv"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="period"></element>
            <variable value="vvv"></variable>
            <transform value="create"></transform>
         </target>
      </rule>
   </group>
   <group>
      <name value="PQQuantity"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="PQ"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="Quantity"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="unit"></name>
         <source>
            <context value="src"></context>
            <element value="unit"></element>
            <variable value="unit"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="unit"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="unit"></valueId>
            </parameter>
         </target>
         <documentation value="src.unit as unit -&gt; tgt.code = unit;"></documentation>
      </rule>
      <rule>
         <name value="value"></name>
         <source>
            <context value="src"></context>
            <element value="value"></element>
            <variable value="value"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="value"></element>
            <transform value="copy"></transform>
            <parameter>
               <valueId value="value"></valueId>
            </parameter>
         </target>
      </rule>
   </group>
   <group>
      <name value="RTOPQPQRatio"></name>
      <extends value="Any"></extends>
      <typeMode value="types"></typeMode>
      <input>
         <name value="src"></name>
         <type value="RTO_PQ_PQ"></type>
         <mode value="source"></mode>
      </input>
      <input>
         <name value="tgt"></name>
         <type value="Ratio"></type>
         <mode value="target"></mode>
      </input>
      <rule>
         <name value="numerator"></name>
         <source>
            <context value="src"></context>
            <element value="numerator"></element>
            <variable value="numerator"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="numerator"></element>
            <variable value="targetNumerator"></variable>
         </target>
         <dependent>
            <name value="PQQuantity"></name>
            <variable value="numerator"></variable>
            <variable value="targetNumerator"></variable>
         </dependent>
      </rule>
      <rule>
         <name value="denominator"></name>
         <source>
            <context value="src"></context>
            <element value="denominator"></element>
            <variable value="denominator"></variable>
         </source>
         <target>
            <context value="tgt"></context>
            <contextType value="variable"></contextType>
            <element value="denominator"></element>
            <variable value="targetDenominator"></variable>
         </target>
         <dependent>
            <name value="PQQuantity"></name>
            <variable value="denominator"></variable>
            <variable value="targetDenominator"></variable>
         </dependent>
      </rule>
   </group>
</StructureMap>